# Sitemap Generator for Mile High DNA Testing

This comprehensive sitemap generator automatically creates a complete `sitemap.xml` file for the Mile High DNA Testing website, including all English and Spanish routes with proper SEO metadata.

## Features

- ✅ **Automatic Route Detection**: Reads all routes from `App.jsx`
- ✅ **Bilingual Support**: Includes English and Spanish versions with `hreflang` attributes
- ✅ **SEO Optimized**: Proper priorities, change frequencies, and lastmod dates
- ✅ **Admin Route Exclusion**: Automatically excludes private/admin routes
- ✅ **Validation**: Built-in XML validation and error checking
- ✅ **Build Integration**: Auto-generates on `npm run build`

## Usage

### Manual Generation
```bash
node generateSitemap.js
```

### Automatic Generation (Recommended)
The sitemap will automatically generate after every build:
```bash
npm run build
```

## Route Priorities

| Priority | Route Type | Change Frequency | Examples |
|----------|------------|------------------|----------|
| `1.0` | Homepage | `daily` | `/` |
| `0.9` | Primary Services | `weekly` | `/legal-paternity-tests`, `/services/prenatal-paternity-testing` |
| `0.8` | Secondary Services | `weekly` | `/mile-high-dna-corner`, `/products/*` |
| `0.7` | Blog Articles | `weekly` | `/mile-high-dna-corner/*` |
| `0.6` | Information Pages | `monthly` | `/about`, `/faq` |
| `0.5` | Utility Pages | `monthly` | `/aabb-accreditation` |
| `0.3` | Legal/Policy | `yearly` | `/confirmation`, `/cancel` |

## Excluded Routes

The following routes are automatically excluded from the sitemap:
- Admin/private routes (`/admin-*`, `/my-results*`)
- Development routes (`/test-*`)
- User-specific routes (`/reset-password`, `/appointment-form`)

## Hreflang Support

Routes with Spanish translations include proper `hreflang` attributes:
```xml
<xhtml:link rel="alternate" hreflang="en" href="https://milehighdnatesting.com/legal-paternity-tests" />
<xhtml:link rel="alternate" hreflang="es" href="https://milehighdnatesting.com/es/prueba-de-paternidad-legal" />
```

## Output

The sitemap is generated at `public/sitemap.xml` and includes:
- ✅ Valid XML structure
- ✅ Proper namespaces (`xmlns` and `xmlns:xhtml`)
- ✅ Current timestamp for `lastmod`
- ✅ SEO-optimized priorities and change frequencies
- ✅ Bilingual hreflang links where applicable

## Adding New Routes

To add new routes to the sitemap:

1. **Add the route to `App.jsx`** (if not already there)
2. **Update `routeConfig` in `generateSitemap.js`** with the new route and its metadata:
   ```javascript
   '/new-route': {
     priority: '0.8',
     changefreq: 'weekly',
     hreflang: {
       'en-us': '/new-route',
       'es-us': '/es/nueva-ruta'  // if Spanish version exists
     }
   }
   ```
3. **Run the generator**: `node generateSitemap.js`

## Validation

The script includes built-in validation:
- ✅ XML structure validation
- ✅ URL count verification
- ✅ Error handling and reporting

## Example Output

```xml
<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9"
        xmlns:xhtml="http://www.w3.org/1999/xhtml">

  <url>
    <loc>https://milehighdnatesting.com/</loc>
    <lastmod>2025-10-11T13:25:32.007Z</lastmod>
    <changefreq>daily</changefreq>
    <priority>1.0</priority>
    <xhtml:link rel="alternate" hreflang="en" href="https://milehighdnatesting.com/" />
    <xhtml:link rel="alternate" hreflang="es" href="https://milehighdnatesting.com/es" />
  </url>
  
  <!-- Additional URLs... -->
  
</urlset>
```

## Troubleshooting

### Common Issues

1. **"Module not found"**: Ensure you're running from the project root
2. **"Permission denied"**: Check file permissions for `public/sitemap.xml`
3. **"Invalid XML"**: Check for special characters in route paths

### Debug Mode

Run with verbose output:
```bash
node generateSitemap.js --verbose
```

## Integration with Search Engines

After generating the sitemap:

1. **Submit to Google Search Console**: Upload `public/sitemap.xml`
2. **Submit to Bing Webmaster Tools**: Add sitemap URL
3. **Update robots.txt**: Ensure sitemap is referenced:
   ```
   Sitemap: https://milehighdnatesting.com/sitemap.xml
   ```

## Maintenance

- **Automatic Updates**: Runs on every `npm run build`
- **Manual Updates**: Run `node generateSitemap.js` when adding new routes
- **Version Control**: Commit `public/sitemap.xml` to track changes
- **Monitoring**: Check Google Search Console for sitemap status

---

*Generated by Mile High DNA Testing Sitemap Generator v2.0*
